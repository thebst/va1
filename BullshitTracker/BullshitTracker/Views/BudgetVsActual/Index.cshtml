@model IEnumerable<BullshitTracker.Models.PeriodBudgetVsActual>

@{
    ViewBag.Title = "Index";
}

<h2>Budget vs Actual for @ViewBag.PeriodName</h2>

@Html.ActionLink("←Previous", "Index", "BudgetVsActual", new { periodId = @ViewBag.Previous }, null)
@Html.ActionLink("Next→", "Index", "BudgetVsActual", new { periodId = @ViewBag.Next }, null)


<table class="table">
    <colgroup>
        <col width="130" />
        <col width="100" />
        <col width="100" />
        <col width="100" />
        
    </colgroup>
    <tr>

        <th>
            Budget  
        </th>
        <th style="text-align:right">
            Budget Amt.
        </th>
        <th style="text-align:right">
            Actual Amt.
        </th>
        <th style="text-align:right">
            % of Budget
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>

        <td>
            @Html.ActionLink(item.BudgetName, "Index", "ExpenseDetails",  new { Budget = item.BudgetId , Period = item.PeriodId },null)

        </td>
        <td style="text-align:right">

            @Html.DisplayFor(modelItem => item.BudgetedAmount)
        </td>
        <td style="text-align:right; font-weight:bold">

            @Html.DisplayFor(modelItem => item.ActualAmount)
        </td>
        <td style="text-align:right">
            @Html.DisplayFor(modelItem => item.PercentOfBudget)%
        </td>

    </tr>
}

    <tr>
        <td style="font-weight:bold; font-size:larger">
            Total
        </td>
        <td style="text-align:right">

            @ViewBag.PeriodBudgeted
        </td>
        <td style="text-align:right; font-weight:bold">

            @ViewBag.PeriodTotalActual
        </td>
        <td style="text-align:right">
            @ViewBag.PercentOfBudget %
        </td>

    </tr>

</table>
